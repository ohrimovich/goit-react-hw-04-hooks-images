{"version":3,"sources":["components/Saerchbar/Searchbar.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/PixabayAPI.js","components/ImageGallaryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/feachImage/FeachImage.js","App.js","index.js"],"names":["Searchbar","state","imageName","handlerNameChange","event","setState","currentTarget","value","toLowerCase","handlerSubmit","preventDefault","trim","props","onChange","toast","error","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","Component","ImageGallery","children","Button","onLoadMore","onClick","api","fetchImage","name","page","fetch","then","res","json","ImageGalleryItem","largeImageURL","target","dataset","url","largeImageAlt","alt","list","map","item","src","webformatURL","tags","id","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","window","addEventListener","removeEventListener","createPortal","FeachImage","images","isVisible","loading","showModal","largeImage","toggleModal","PixabayAPI","hits","finally","prevProps","length","clearList","prevState","catch","console","log","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","timeout","App","formSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fabb23b7.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport './Searchbar.scss'\r\nimport { toast } from 'react-toastify'\r\n\r\nclass Searchbar extends Component {\r\n    \r\n    state = {\r\n        imageName: '',\r\n    }\r\n\r\n    handlerNameChange = event => {\r\n        this.setState({\r\n            imageName: event.currentTarget.value.toLowerCase()\r\n        })\r\n    }\r\n\r\n    handlerSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if (this.state.imageName.trim() === '') {\r\n            toast.error('Enter name of image, what would you like to find');\r\n            return;\r\n\r\n        }\r\n\r\n        this.props.onChange(this.state.imageName)\r\n        this.setState({imageName: ''})\r\n\r\n    }\r\n\r\n    render() {\r\n        return(\r\n        <header className=\"Searchbar\">\r\n            <form onSubmit={this.handlerSubmit} className=\"SearchForm\">\r\n                <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    value = {this.state.imageName}\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    onChange={this.handlerNameChange}\r\n                />\r\n            </form>\r\n        </header>\r\n        )\r\n}\r\n}\r\n\r\nexport default Searchbar;","import React, {Component} from 'react';\r\nimport './ImageGallery.scss'\r\n\r\nclass ImageGallery extends Component {\r\n    \r\n    render() {\r\n        return (\r\n            <ul className=\"ImageGallery\" >\r\n                {this.props.children}\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImageGallery;","import './Button.scss'\r\n\r\nfunction Button({onLoadMore}) {\r\n    return (\r\n        <button type='button' className=\"Button\" onClick={onLoadMore} >Load more</button>    \r\n    )\r\n}\r\n\r\nexport default Button;","function fetchImage(name, page = 1 ) {\r\n    return (\r\n         fetch(`https://pixabay.com/api/?q=${name}&page=${page}&key=23101905-f5de468dd217ea275d2e77ee2&image_type=photo&orientation=horizontal&per_page=12`)\r\n                .then(res => res.json())\r\n    )\r\n}\r\n\r\nconst api = {\r\n    fetchImage,\r\n}\r\n\r\nexport default api;","import './ImageGalleryItem.scss'\r\nimport React, {Component} from 'react';\r\n\r\nclass ImageGalleryItem extends Component {\r\n    \r\n    onClick = (event) => {\r\n        const largeImageURL = event.target.dataset.url;\r\n        const largeImageAlt = event.target.dataset.alt;\r\n        this.props.onClick(largeImageURL, largeImageAlt);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            this.props.list.map(item => <li key={item.id} onClick={this.onClick} className=\"ImageGalleryItem\">\r\n                <img src={item.webformatURL} alt={item.tags} data-alt={item.tags} data-url={item.largeImageURL} className=\"ImageGalleryItem-image\" />\r\n            </li>)\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImageGalleryItem;","import React, { Component } from \"react\";\r\nimport { createPortal } from 'react-dom';\r\nimport './Modal.scss'\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\n\r\nexport default class Modal extends Component {\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleKeyDown = e => {\r\n            if (e.code === 'Escape') {\r\n                this.props.onClick();\r\n            }\r\n        }\r\n\r\n    onClick = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClick()\r\n    }\r\n}\r\n    render() {\r\n        return createPortal(\r\n            <div className=\"Overlay\" onClick={this.onClick}>\r\n                <div className=\"Modal\">\r\n                    <img src={this.props.largeImageURL} alt={this.props.alt} />\r\n                </div>\r\n            </div>, modalRoot\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport ImageGallery from '../ImageGallery/ImageGallery'\r\nimport Button from \"../Button/Button\";\r\nimport { toast } from 'react-toastify';\r\nimport PixabayAPI from \"../../services/PixabayAPI\";\r\nimport ImageGalleryItem from \"../ImageGallaryItem/ImageGalleryItem\";\r\nimport Modal from '../Modal/Modal';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport './FetchImage.scss'\r\n\r\n\r\nclass FeachImage extends Component {\r\n\r\n    state = {\r\n        images: [],\r\n        isVisible: false,\r\n        loading: false,\r\n        page: 1,\r\n        showModal: false,\r\n        largeImage: '',\r\n        alt: '',\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.name !== this.props.name) {\r\n            this.setState({ loading: true });\r\n            PixabayAPI.fetchImage( this.props.name )\r\n                .then(res => res.hits.length === 0 ? this.clearList():\r\n                    this.setState((prevState) => {\r\n                    return {\r\n                        images: res.hits,\r\n                        isVisible: true,\r\n                        page: prevState.page + 1\r\n                   }\r\n                   \r\n                })).catch(error => console.log(error)).finally(() => this.setState({loading: false}))\r\n         \r\n        }\r\n           window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n                });\r\n    }\r\n\r\n      toggleModal = (largeImageURL='',largeImageAlt='') => {\r\n    this.setState(({ showModal}) => ({\r\n        showModal: !showModal,\r\n        largeImage: largeImageURL,\r\n        alt: largeImageAlt,\r\n    }))\r\n  }\r\n\r\n    clearList() {\r\n        this.setState({\r\n            images: [],\r\n            isVisible: false,\r\n\r\n        })\r\n        toast.error('Nothing not found')\r\n        return;\r\n    }\r\n    \r\n    onLoadMore = () => {\r\n        this.setState({ loading: true });\r\n         PixabayAPI.fetchImage( this.props.name, this.state.page )\r\n              .then(res => this.setState(({ images, page }) => {\r\n                  return {\r\n                      images: [...images, ...res.hits],\r\n                      page: page + 1\r\n                    }\r\n              })).finally(() => this.setState({loading: false}))\r\n          \r\n    }\r\n\r\n    render() {\r\n        const {largeImage, alt, images, isVisible, showModal, loading } = this.state\r\n        return (\r\n            <>\r\n                \r\n                <ImageGallery >\r\n                    <ImageGalleryItem list={images} onClick={this.toggleModal}/>\r\n              </ImageGallery>\r\n                {isVisible && <Button onLoadMore={this.onLoadMore} />}\r\n                {showModal && <Modal largeImageURL={largeImage} alt={alt} onClick={this.toggleModal} />}\r\n                {loading && <div className='Spinner'><Loader type=\"TailSpin\"\r\n                    color=\"#00BFFF\"\r\n                    height={50}\r\n                    width={50}\r\n                    timeout={20000}\r\n                    /></div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FeachImage;","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from \"./components/Saerchbar/Searchbar\";\nimport FeachImage from \"./components/feachImage/FeachImage\";\n\n\nclass App extends Component {\n\n  state = {\n    imageName: '',\n  }\n \n  formSubmit = imageName => {\n    this.setState({imageName})\n  }\n\n\n  render() {\n    console.log(this.state.imageName)\n    const {imageName} = this.state\n    return (\n      \n      <>\n        <Searchbar onChange={this.formSubmit} />\n        <ToastContainer autoClose={3000} />\n        <FeachImage name={imageName} onClick={this.toggleModal} />\n\n      </>\n    )\n \n    \n  };\n}\n\nexport default App;\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}